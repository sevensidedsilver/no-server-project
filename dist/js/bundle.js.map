{"version":3,"sources":["app.js","bittrexSrv.js","chartCtrl.js","controller.js","d3.js","homeChart.js","mainSrv.js","scollingDirective.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","otherwise","service","$http","getBitcoinCurrentPrice","method","then","response","getPriceYesterday","obj","data","bpi","key","Object","keys","toString","yesterdayPrice","getMonthlyBitcoinData","controller","$scope","mainSrv","plotData","monthlyData","xAxis","yAxis","values","forEach","val","i","substring","ctxDir","document","getElementById","lineChart","Chart","type","options","maintainAspectRatio","labels","datasets","label","backgroundColor","$window","getCurrentPrice","price","USD","rate","length","priceNumber","replace","priceYesterday","changeRate","toFixed","monthdata","getBitcoinSearchData","directive","restrict","hl","q","cid","export","w","h","console","log"],"mappings":";;AAAAA,QAAQC,MAAR,CAAe,KAAf,EAAsB,CAAC,WAAD,CAAtB,EACKC,MADL,CACY,UAAUC,cAAV,EAA0BC,kBAA1B,EAA8C;AAClDD,mBACKE,KADL,CACW,MADX,EACkB;AACVC,aAAI,GADM;AAEVC,qBAAa;AAFH,KADlB,EAKKF,KALL,CAKW,SALX,EAKqB;AACbC,aAAI,UADS;AAEbC,qBAAa;AAFA,KALrB,EASKF,KATL,CASW,OATX,EASmB;AACXC,aAAI,QADO;AAEXC,qBAAa;AAFF,KATnB,EAaKF,KAbL,CAaW,MAbX,EAakB;AACVC,aAAI,OADM;AAEVC,qBAAa;AAFH,KAblB;;AAoBAH,uBACKI,SADL,CACe,GADf;AAEH,CAxBL;;;ACAAR,QAAQC,MAAR,CAAe,KAAf,EAAsBQ,OAAtB,CAA8B,SAA9B,EAAyC,UAASC,KAAT,EAAe;;AAEpD,SAAKC,sBAAL,GAA8B,YAAW;AACvC,eAAOD,MAAM;AACbE,oBAAQ,KADK;AAEbN,iBAAK;AAFQ,SAAN,EAGFO,IAHE,CAGG,UAAUC,QAAV,EAAoB;AACxB;AACA,mBAAOA,QAAP;AAEH,SAPI,CAAP;AAQL,KATG;;AAaJ;AACI,SAAKC,iBAAL,GAAyB,YAAW;AAClC,eAAOL,MAAM;AACbE,oBAAQ,KADK;AAEbN,iBAAK;AAFQ,SAAN,EAGFO,IAHE,CAGG,UAAUC,QAAV,EAAoB;;AAExB,gBAAIE,MAAMF,SAASG,IAAT,CAAcC,GAAxB;;AAEA,gBAAIC,MAAMC,OAAOC,IAAP,CAAYL,GAAZ,EAAiBM,QAAjB,EAAV;;AAEA,gBAAIC,iBAAkBP,IAAIG,GAAJ,CAAtB;;AAGA,mBAAOI,cAAP;AACH,SAbI,CAAP;AAcL,KAfG;;AAkBF,SAAKC,qBAAL,GAA6B,YAAW;AACtC,eAAOd,MAAM;AACbE,oBAAQ,KADK;AAEbN,iBAAK;AAFQ,SAAN,EAGFO,IAHE,CAGG,UAAUC,QAAV,EAAoB;AACxB;AACA,mBAAOA,QAAP;AAEH,SAPI,CAAP;AAQH,KATC;AAaD,CA/CD;;;ACAAd,QAAQC,MAAR,CAAe,KAAf,EAAsBwB,UAAtB,CAAiC,WAAjC,EAA8C,UAASC,MAAT,EAAiBC,OAAjB,EAAyB;;AAErE;;AAEAA,UAAQH,qBAAR,GAAgCX,IAAhC,CAAqC,UAASC,QAAT,EAAkB;AACrDc,aAASd,QAAT;AACD,GAFD;;AAMA,MAAIc,WAAY,SAAZA,QAAY,CAASd,QAAT,EAAkB;AAChC,QAAIe,cAAcf,SAASG,IAAT,CAAcC,GAAhC;;AAEA,QAAIY,QAAQV,OAAOC,IAAP,CAAYQ,WAAZ,CAAZ;AACA,QAAIE,QAAQX,OAAOY,MAAP,CAAcH,WAAd,CAAZ;;AAEA;AACAC,UAAMG,OAAN,CAAc,UAASC,GAAT,EAAcC,CAAd,EAAiBL,KAAjB,EAAuB;AACnCI,YAAMA,IAAIE,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAN;AAED,KAHD;;AAMA,QAAIC,SAASC,SAASC,cAAT,CAAwB,SAAxB,CAAb;AACA,QAAIC,YAAY,IAAIC,KAAJ,CAAUJ,MAAV,EAAkB;AAC9BK,YAAM,MADwB;AAE9BC,eAAQ;AACNC,6BAAqB;AADf,OAFsB;AAK9B3B,YAAM;;AAEJ4B,gBAAQf,KAFJ;AAGJgB,kBAAU,CAAC;AACTC,iBAAO,UADE;AAET9B,gBAAMc,KAFG;AAGTiB,2BAAiB;AAHR,SAAD;AAHN;AALwB,KAAlB,CAAhB;AAkBD,GAhCD;AA2CD,CArDD;;;ACAAhD,QAAQC,MAAR,CAAe,KAAf,EAAsBwB,UAAtB,CAAiC,UAAjC,EAA6C,UAASC,MAAT,EAAiBuB,OAAjB,EAA0BtB,OAA1B,EAAkC;;AAG7EA,UAAQuB,eAAR,GAA0BrC,IAA1B,CAA+B,UAASC,QAAT,EAAkB;AAC/CY,WAAOyB,KAAP,GAAerC,SAASG,IAAT,CAAcC,GAAd,CAAkBkC,GAAlB,CAAsBC,IAArC;AACA3B,WAAOyB,KAAP,GAAezB,OAAOyB,KAAP,CAAaf,SAAb,CAAuB,CAAvB,EAA0BV,OAAOyB,KAAP,CAAaG,MAAb,GAAoB,CAA9C,CAAf;;AAEA5B,WAAO6B,WAAP,GAAqB7B,OAAOyB,KAAP,CAAaK,OAAb,CAAqB,KAArB,EAA2B,EAA3B,CAArB;;AAGA7B,YAAQZ,iBAAR,GAA4BF,IAA5B,CAAiC,UAASC,QAAT,EAAkB;AACjDY,aAAO+B,cAAP,GAAwB3C,QAAxB;;AAGAY,aAAOgC,UAAP,GAAqB,CAAC,OAAO,CAAChC,OAAO6B,WAAP,GAAqB7B,OAAO+B,cAA7B,IAA+C/B,OAAO6B,WAA7D,CAAD,EAA4EI,OAA5E,CAAoF,CAApF,CAArB;AACD,KALD;AAMD,GAbD;;AAeAhC,UAAQH,qBAAR,GAAgCX,IAAhC,CAAqC,UAASC,QAAT,EAAkB;AACrDY,WAAOkC,SAAP,GAAmB9C,SAASG,IAAT,CAAcC,GAAjC;AACD,GAFD;;AAKF;AACAS,UAAQkC,oBAAR;AAOC,CA/BD;ACAA;;;ACAA7D,QAAQC,MAAR,CAAe,KAAf,EAAsB6D,SAAtB,CAAgC,YAAhC,EAA8C,YAAU;AACtD,SAAM;AACJC,cAAU,GADN;AAEJxD,iBAAa,6BAFT;AAGJkB,gBAAY;;AAHR,GAAN;AAQD,CATD;;;ACAAzB,QAAQC,MAAR,CAAe,KAAf,EAAsBQ,OAAtB,CAA8B,SAA9B,EAAyC,UAASC,KAAT,EAAe;;AAEpD,OAAKwC,eAAL,GAAuB,YAAW;AAChC,WAAOxC,MAAM;AACbE,cAAQ,KADK;AAEbN,WAAK;AAFQ,KAAN,EAGFO,IAHE,CAGG,UAAUC,QAAV,EAAoB;AACxB;AACA,aAAOA,QAAP;AAEH,KAPI,CAAP;AAQL,GATG;;AAWJ;AACI,OAAKC,iBAAL,GAAyB,YAAW;AAClC,WAAOL,MAAM;AACbE,cAAQ,KADK;AAEbN,WAAK;AAFQ,KAAN,EAGFO,IAHE,CAGG,UAAUC,QAAV,EAAoB;;AAExB,UAAIE,MAAMF,SAASG,IAAT,CAAcC,GAAxB;;AAEA,UAAIC,MAAMC,OAAOC,IAAP,CAAYL,GAAZ,EAAiBM,QAAjB,EAAV;;AAEA,UAAIC,iBAAkBP,IAAIG,GAAJ,CAAtB;;AAGA,aAAOI,cAAP;AACH,KAbI,CAAP;AAcL,GAfG;;AAiBF,OAAKC,qBAAL,GAA6B,YAAW;AACtC,WAAOd,MAAM;AACbE,cAAQ,KADK;AAEbN,WAAK;AAFQ,KAAN,EAGFO,IAHE,CAGG,UAAUC,QAAV,EAAoB;AACxB;AACA,aAAOA,QAAP;AAEH,KAPI,CAAP;AAQH,GATC;AAUF;AACA,OAAK+C,oBAAL,GAA4B,YAAU;AACpC,WAAOnD,MAAM;AACXE,cAAQ,KADG;AAEXN,WAAK,6CAFM;AAGX0D,UAAI,OAHO;AAIXC,SAAG,SAJQ;AAKXC,WAAK,oBALM;AAMXC,cAAQ,GANG;AAOXC,SAAG,OAPQ;AAQXC,SAAG;AARQ,KAAN,EASJxD,IATI,CASC,UAAUC,QAAV,EAAmB;AACvBwD,cAAQC,GAAR,CAAYzD,QAAZ;AAEH,KAZM,CAAP;AAaD,GAdD;AAuBC,CAjED;;;ACAAd,QAAQC,MAAR,CAAe,KAAf,EAAsB6D,SAAtB,CAAgC,gBAAhC,EAAkD,UAASb,OAAT,EAAiB;AACjE,SAAM;AACJc,cAAU,GADN;AAEJxD,iBAAa;;AAFT,GAAN;AAWD,CAZD","file":"bundle.js","sourcesContent":["angular.module('app', ['ui.router'])\n    .config(function ($stateProvider, $urlRouterProvider) {\n        $stateProvider\n            .state('home',{\n                url:'/',\n                templateUrl: \"../templates/home.html\"\n            })\n            .state('insight',{\n                url:'/insight',\n                templateUrl: \"../templates/insight.html\"\n            })\n            .state('coins',{\n                url:'/coins',\n                templateUrl: \"../templates/coins.html\"\n            })\n            .state('info',{\n                url:'/info',\n                templateUrl: \"../templates/info.html\"\n            })\n\n\n\n        $urlRouterProvider\n            .otherwise('/');\n    });\n","angular.module('app').service('mainSrv', function($http){\n\n    this.getBitcoinCurrentPrice = function (){\n      return $http({\n      method: 'GET',\n      url: 'http://api.coindesk.com/v1/bpi/currentprice/CNY.json'\n        }).then(function (response) {\n            //console.log(response)\n            return response\n\n        });\n}\n\n\n\n// get yesterday's price\n    this.getPriceYesterday = function (){\n      return $http({\n      method: 'GET',\n      url: 'http://api.coindesk.com/v1/bpi/historical/close.json?for=yesterday'\n        }).then(function (response) {\n\n            let obj = response.data.bpi\n\n            let key = Object.keys(obj).toString()\n\n            let yesterdayPrice = (obj[key])\n\n\n            return yesterdayPrice;\n        });\n}\n\n\n  this.getMonthlyBitcoinData = function (){\n    return $http({\n    method: 'GET',\n    url: 'http://api.coindesk.com/v1/bpi/historical/close.json'\n      }).then(function (response) {\n          //console.log(response.data.bpi)\n          return response\n\n      });\n}\n\n\n\n})\n","angular.module('app').controller('chartCtrl', function($scope, mainSrv){\n\n  // needs to be generated from key values of mainSrv.getMonthlyBitcoinData\n\n  mainSrv.getMonthlyBitcoinData().then(function(response){\n    plotData(response)\n  })\n\n\n\n  var plotData = (function(response){\n    var monthlyData = response.data.bpi\n\n    var xAxis = Object.keys(monthlyData);\n    var yAxis = Object.values(monthlyData);\n\n    //remove year from yAxis\n    xAxis.forEach(function(val, i, xAxis){\n      val = val.substring(5, 9)\n\n    })\n\n\n    let ctxDir = document.getElementById(\"myChart\");\n    var lineChart = new Chart(ctxDir, {\n        type: 'line',\n        options:{\n          maintainAspectRatio: false,\n        },\n        data: {\n\n          labels: xAxis,\n          datasets: [{\n            label: 'bitcoins',\n            data: yAxis,\n            backgroundColor: \"rgba(153,255,51,0.4)\"\n          }]\n        }\n      });\n\n\n\n  })\n\n\n\n\n\n\n\n\n\n\n})\n","angular.module('app').controller('mainCtrl', function($scope, $window, mainSrv){\n\n\n  mainSrv.getCurrentPrice().then(function(response){\n    $scope.price = response.data.bpi.USD.rate\n    $scope.price = $scope.price.substring(0, $scope.price.length-2)\n\n    $scope.priceNumber = $scope.price.replace(/\\,/g,'')\n\n\n    mainSrv.getPriceYesterday().then(function(response){\n      $scope.priceYesterday = response;\n\n\n      $scope.changeRate =  (100 * (($scope.priceNumber - $scope.priceYesterday) / $scope.priceNumber)).toFixed(2)\n    });\n  });\n\n  mainSrv.getMonthlyBitcoinData().then(function(response){\n    $scope.monthdata = response.data.bpi\n  })\n\n\n// trends\nmainSrv.getBitcoinSearchData();\n\n\n\n\n\n\n})\n","","angular.module('app').directive('monthchart', function(){\n  return{\n    restrict: 'E',\n    templateUrl: '../templates/homeChart.html',\n    controller: 'chartCtrl'\n\n\n  }\n\n})\n","angular.module('app').service('mainSrv', function($http){\n\n    this.getCurrentPrice = function (){\n      return $http({\n      method: 'GET',\n      url: 'http://api.coindesk.com/v1/bpi/currentprice/CNY.json'\n        }).then(function (response) {\n            //console.log(response)\n            return response\n\n        });\n}\n\n// get yesterday's price\n    this.getPriceYesterday = function (){\n      return $http({\n      method: 'GET',\n      url: 'http://api.coindesk.com/v1/bpi/historical/close.json?for=yesterday'\n        }).then(function (response) {\n\n            let obj = response.data.bpi\n\n            let key = Object.keys(obj).toString()\n\n            let yesterdayPrice = (obj[key])\n\n\n            return yesterdayPrice;\n        });\n}\n\n  this.getMonthlyBitcoinData = function (){\n    return $http({\n    method: 'GET',\n    url: 'http://api.coindesk.com/v1/bpi/historical/close.json'\n      }).then(function (response) {\n          //console.log(response.data.bpi)\n          return response\n\n      });\n}\n// google trends API fetches\nthis.getBitcoinSearchData = function(){\n  return $http({\n    method: 'GET',\n    url: 'http://www.google.com/trends/fetchComponent',\n    hl: 'en-US',\n    q: 'bitcoin',\n    cid: 'TIMESERIES_GRAPH_0',\n    export: '5',\n    w: '700px',\n    h: '400px'\n  }).then(function (response){\n      console.log(response)\n\n  })\n}\n\n\n\n\n\n\n\n\n})\n","angular.module('app').directive('scrollingStats', function($window){\n  return{\n    restrict: 'E',\n    templateUrl: '../templates/scrollingStats.html'\n\n\n  }\n\n\n\n\n\n})\n"]}